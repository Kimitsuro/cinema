{% extends 'base.html.twig' %}

{% block title %}–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä –°–∞–∫—É—Ä–∞{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/admin.css') }}?v={{ "now"|date("U") }}">
{% endblock %}

{% block body %}
    <!-- Main Content -->
    <main class="main-content">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <h2 class="sidebar-title">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#" class="nav-linck active" data-section="dashboard">
                            <span class="nav-icon">üìä</span>
                            <span>–î–∞—à–±–æ—Ä–¥</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-linck" data-section="movies">
                            <span class="nav-icon">üé¨</span>
                            <span>–§–∏–ª—å–º—ã</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-linck" data-section="halls">
                            <span class="nav-icon">üèõÔ∏è</span>
                            <span>–ó–∞–ª—ã</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-linck" data-section="employees">
                            <span class="nav-icon">üë•</span>
                            <span>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-linck" data-section="pricing">
                            <span class="nav-icon">üí∞</span>
                            <span>–¶–µ–Ω–æ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-linck" data-section="reports">
                            <span class="nav-icon">üìà</span>
                            <span>–û—Ç—á—ë—Ç—ã</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Section -->
            <section class="content-section active" data-section="dashboard">
                <h1 class="section-title">–î–∞—à–±–æ—Ä–¥</h1>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">{{ '156' }}</div>
                        <div class="stat-label">–í—Å–µ–≥–æ —Ñ–∏–ª—å–º–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '3' }}</div>
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ª–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '8' }}</div>
                        <div class="stat-label">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '2.4–ú' }}</div>
                        <div class="stat-label">–í—ã—Ä—É—á–∫–∞ (‚ÇΩ)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '12,450' }}</div>
                        <div class="stat-label">–ë–∏–ª–µ—Ç–æ–≤ –ø—Ä–æ–¥–∞–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '87%' }}</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω—è—è –∑–∞–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç—å</div>
                    </div>
                </div>
            </section>

            <!-- Movies Section -->
            <section class="content-section" data-section="movies">
                <h1 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞–º–∏</h1>
                
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">–°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤</div>
                        <div class="table-actions">
                            <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤...">
                            <button class="btn btn-primary" onclick="openMovieModal()">+ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º</button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–ü–æ—Å—Ç–µ—Ä</th>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–ñ–∞–Ω—Ä</th>
                                <th>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</th>
                                <th>–í–æ–∑—Ä–∞—Å—Ç</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in 1..8 %}
                            <tr>
                                <td>
                                    <img src="/placeholder.svg?height=60&width=40" alt="–ü–æ—Å—Ç–µ—Ä" style="border-radius: 4px;">
                                </td>
                                <td>{{ ['–ó–∞–≥–∞–¥–æ—á–Ω—ã–π –ª–µ—Å –°–∞–∫—É—Ä—ã', '–¢–∞–π–Ω–∞ –≥–æ—Ä—ã –§—É–¥–∑–∏', '–í–µ—Å–µ–Ω–Ω–∏–π –¥–æ–∂–¥—å', '–û—Å–µ–Ω–Ω–∏–µ –ª–∏—Å—Ç—å—è'][i % 4] }}</td>
                                <td>{{ ['–î—Ä–∞–º–∞', '–¢—Ä–∏–ª–ª–µ—Ä', '–†–æ–º–∞–Ω—Ç–∏–∫–∞', '–ö–æ–º–µ–¥–∏—è'][i % 4] }}</td>
                                <td>{{ 120 + (i * 5) }} –º–∏–Ω</td>
                                <td>{{ [12, 16, 18, 6][i % 4] }}+</td>
                                <td>
                                    <span class="status-badge {{ ['active', 'upcoming', 'inactive'][i % 3] }}">
                                        {{ ['–ê–∫—Ç–∏–≤–Ω—ã–π', '–°–∫–æ—Ä–æ', '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π'][i % 3] }}
                                    </span>
                                </td>
                                <td>
                                    <button class="btn btn-secondary btn-small" onclick="editMovie({{ i }})">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                                    <button class="btn btn-danger btn-small" onclick="deleteMovie({{ i }})">–£–¥–∞–ª–∏—Ç—å</button>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Halls Section -->
            <section class="content-section" data-section="halls">
                <h1 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ª–∞–º–∏</h1>
                
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ª–æ–≤</div>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openHallModal()">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ª</button>
                        </div>
                    </div>
                    
                    {% for i in 1..3 %}
                    <div class="hall-config">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <div>
                                <h3 style="color: var(--accent-gold);">–ó–∞–ª {{ i }} - {{ ['2D', '3D', 'IMAX'][i-1] }}</h3>
                                <p style="color: var(--text-secondary);">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: 30 –º–µ—Å—Ç ‚Ä¢ {{ ['–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π', '–û–±—ä—ë–º–Ω—ã–π', '–ü—Ä–µ–º–∏—É–º'][i-1] }} —Ñ–æ—Ä–º–∞—Ç</p>
                            </div>
                            <div>
                                <button class="btn btn-secondary btn-small" onclick="editHall({{ i }})">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å</button>
                                <button class="btn btn-danger btn-small" onclick="deleteHall({{ i }})">–£–¥–∞–ª–∏—Ç—å</button>
                            </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div style="background: var(--secondary-dark); padding: 0.5rem; border-radius: 4px; margin-bottom: 1rem; color: var(--text-muted);">
                                –≠–ö–†–ê–ù
                            </div>
                            <div class="seat-grid">
                                {% for j in 1..30 %}
                                <div class="seat-preview {{ j <= 10 ? 'economy' : 'regular' }}">{{ j }}</div>
                                {% endfor %}
                            </div>
                            <div style="margin-top: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                                <span style="color: #4a90e2;">‚ñ†</span> –≠–∫–æ–Ω–æ–º (10 –º–µ—Å—Ç) ‚Ä¢ 
                                <span style="color: #50c878;">‚ñ†</span> –û–±—ã—á–Ω—ã–µ (20 –º–µ—Å—Ç)
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <!-- Employees Section -->
            <section class="content-section" data-section="employees">
                <h1 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏</h1>
                
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
                        <div class="table-actions">
                            <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤...">
                            <button class="btn btn-primary" onclick="openEmployeeModal()">+ –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–ò–º—è</th>
                                <th>–õ–æ–≥–∏–Ω</th>
                                <th>–î–æ–ª–∂–Ω–æ—Å—Ç—å</th>
                                <th>–î–∞—Ç–∞ –Ω–∞–π–º–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in 1..6 %}
                            <tr>
                                <td>{{ ['–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', '–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞', '–ê–ª–µ–∫—Å–µ–π –ö–æ–∑–ª–æ–≤', '–ï–ª–µ–Ω–∞ –í–æ–ª–∫–æ–≤–∞', '–î–º–∏—Ç—Ä–∏–π –û—Ä–ª–æ–≤', '–ê–Ω–Ω–∞ –õ–µ–±–µ–¥–µ–≤–∞'][i-1] }}</td>
                                <td>{{ ['ivan.petrov', 'maria.sidorova', 'alexey.kozlov', 'elena.volkova', 'dmitry.orlov', 'anna.lebedeva'][i-1] }}</td>
                                <td>{{ ['–ú–µ–Ω–µ–¥–∂–µ—Ä', '–ö–∞—Å—Å–∏—Ä', '–¢–µ—Ö–Ω–∏–∫', '–ú–µ–Ω–µ–¥–∂–µ—Ä', '–û—Ö—Ä–∞–Ω–Ω–∏–∫', '–£–±–æ—Ä—â–∏—Ü–∞'][i-1] }}</td>
                                <td>{{ "now"|date_modify("-" ~ (i * 30) ~ " days")|date('d.m.Y') }}</td>
                                <td>
                                    <span class="status-badge active">–ê–∫—Ç–∏–≤–Ω—ã–π</span>
                                </td>
                                <td>
                                    <button class="btn btn-secondary btn-small" onclick="editEmployee({{ i }})">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                                    <button class="btn btn-danger btn-small" onclick="deleteEmployee({{ i }})">–£–¥–∞–ª–∏—Ç—å</button>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Pricing Section -->
            <section class="content-section" data-section="pricing">
                <h1 class="section-title">–¶–µ–Ω–æ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞</h1>
                
                <div class="pricing-grid">
                    <div class="pricing-card">
                        <div class="pricing-title">–ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã –ø–æ —Ç–∏–ø–∞–º –º–µ—Å—Ç</div>
                        <div class="price-item">
                            <span class="price-label">–≠–∫–æ–Ω–æ–º –º–µ—Å—Ç–∞</span>
                            <input type="number" class="price-input" value="350">
                            <span style="color: var(--text-muted); margin-left: 0.5rem;">‚ÇΩ</span>
                        </div>
                        <div class="price-item">
                            <span class="price-label">–û–±—ã—á–Ω—ã–µ –º–µ—Å—Ç–∞</span>
                            <input type="number" class="price-input" value="400">
                            <span style="color: var(--text-muted); margin-left: 0.5rem;">‚ÇΩ</span>
                        </div>
                    </div>

                    <div class="pricing-card">
                        <div class="pricing-title">–ù–∞–¥–±–∞–≤–∫–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º</div>
                        <div class="price-item">
                            <span class="price-label">2D —Ñ–æ—Ä–º–∞—Ç</span>
                            <span class="price-value">–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞</span>
                        </div>
                        <div class="price-item">
                            <span class="price-label">3D —Ñ–æ—Ä–º–∞—Ç</span>
                            <input type="number" class="price-input" value="100">
                            <span style="color: var(--text-muted); margin-left: 0.5rem;">‚ÇΩ</span>
                        </div>
                        <div class="price-item">
                            <span class="price-label">IMAX —Ñ–æ—Ä–º–∞—Ç</span>
                            <input type="number" class="price-input" value="200">
                            <span style="color: var(--text-muted); margin-left: 0.5rem;">‚ÇΩ</span>
                        </div>
                    </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                    <button class="btn btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å –∫ —É–º–æ–ª—á–∞–Ω–∏—é</button>
                </div>
            </section>

            <!-- Reports Section -->
            <section class="content-section" data-section="reports">
                <h1 class="section-title">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤</h1>
                
                <div class="report-filters">
                    <select class="form-select" style="width: auto;">
                        <option>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</option>
                        <option>–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü</option>
                        <option>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞</option>
                        <option>–¢–µ–∫—É—â–∏–π –≥–æ–¥</option>
                        <option>–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥</option>
                    </select>
                    <input type="date" class="form-input" style="width: auto;" value="{{ "now"|date_modify("-7 days")|date('Y-m-d') }}">
                    <input type="date" class="form-input" style="width: auto;" value="{{ "now"|date('Y-m-d') }}">
                    <button class="btn btn-primary">–û–±–Ω–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç</button>
                    <button class="btn btn-success">üìä –≠–∫—Å–ø–æ—Ä—Ç Excel</button>
                    <button class="btn btn-secondary">üìÑ –≠–∫—Å–ø–æ—Ä—Ç PDF</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">{{ '1,245,600' }}</div>
                        <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞ (‚ÇΩ)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '3,124' }}</div>
                        <div class="stat-label">–ë–∏–ª–µ—Ç–æ–≤ –ø—Ä–æ–¥–∞–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '89%' }}</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω—è—è –∑–∞–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç—å</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ '398' }}</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ (‚ÇΩ)</div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Ñ–∏–ª—å–º–∞–º</div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–§–∏–ª—å–º</th>
                                <th>–°–µ–∞–Ω—Å–æ–≤</th>
                                <th>–ë–∏–ª–µ—Ç–æ–≤ –ø—Ä–æ–¥–∞–Ω–æ</th>
                                <th>–í—ã—Ä—É—á–∫–∞</th>
                                <th>–ó–∞–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç—å</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in 1..5 %}
                            <tr>
                                <td>{{ ['–ó–∞–≥–∞–¥–æ—á–Ω—ã–π –ª–µ—Å –°–∞–∫—É—Ä—ã', '–¢–∞–π–Ω–∞ –≥–æ—Ä—ã –§—É–¥–∑–∏', '–í–µ—Å–µ–Ω–Ω–∏–π –¥–æ–∂–¥—å', '–û—Å–µ–Ω–Ω–∏–µ –ª–∏—Å—Ç—å—è', '–ó–∏–º–Ω—è—è —Å–∫–∞–∑–∫–∞'][i-1] }}</td>
                                <td>{{ 15 + (i * 3) }}</td>
                                <td>{{ 450 + (i * 120) }}</td>
                                <td>{{ (450 + (i * 120)) * 400 }} ‚ÇΩ</td>
                                <td>{{ 85 + i }}%</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </main>

    <!-- Movie Modal -->
    <div class="modal" id="movieModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="movieModalTitle">–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º</h3>
                <button class="modal-close" onclick="closeMovieModal()">&times;</button>
            </div>
            
            <form id="movieForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="movie_title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞</label>
                        <input type="text" id="movie_title" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="movie_genre">–ñ–∞–Ω—Ä</label>
                        <select id="movie_genre" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∂–∞–Ω—Ä</option>
                            <option value="drama">–î—Ä–∞–º–∞</option>
                            <option value="comedy">–ö–æ–º–µ–¥–∏—è</option>
                            <option value="action">–ë–æ–µ–≤–∏–∫</option>
                            <option value="thriller">–¢—Ä–∏–ª–ª–µ—Ä</option>
                            <option value="romance">–†–æ–º–∞–Ω—Ç–∏–∫–∞</option>
                            <option value="horror">–£–∂–∞—Å—ã</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="movie_duration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)</label>
                        <input type="number" id="movie_duration" class="form-input" min="60" max="300" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="movie_age">–í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ</label>
                        <select id="movie_age" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç</option>
                            <option value="0">0+</option>
                            <option value="6">6+</option>
                            <option value="12">12+</option>
                            <option value="16">16+</option>
                            <option value="18">18+</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="movie_format">–§–æ—Ä–º–∞—Ç</label>
                        <select id="movie_format" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç</option>
                            <option value="2D">2D</option>
                            <option value="3D">3D</option>
                            <option value="IMAX">IMAX</option>
                            <option value="2D, 3D">2D, 3D</option>
                            <option value="2D, 3D, IMAX">2D, 3D, IMAX</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="movie_status">–°—Ç–∞—Ç—É—Å</label>
                        <select id="movie_status" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å</option>
                            <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
                            <option value="upcoming">–°–∫–æ—Ä–æ</option>
                            <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="movie_poster">URL –ø–æ—Å—Ç–µ—Ä–∞</label>
                    <input type="url" id="movie_poster" class="form-input">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="movie_description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="movie_description" class="form-textarea" rows="4"></textarea>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                    <button type="button" class="btn btn-secondary" onclick="closeMovieModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary" id="movieSubmitBtn">–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Hall Modal -->
    <div class="modal" id="hallModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="hallModalTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ª–∞</h3>
                <button class="modal-close" onclick="closeHallModal()">&times;</button>
            </div>
            
            <form id="hallForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="hall_type">–¢–∏–ø –∑–∞–ª–∞</label>
                        <select id="hall_type" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                            <option value="2D">2D</option>
                            <option value="3D">3D</option>
                            <option value="IMAX">IMAX</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="hall_capacity">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</label>
                        <input type="number" id="hall_capacity" class="form-input" min="20" max="100" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="hall_rows">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—è–¥–æ–≤</label>
                        <input type="number" id="hall_rows" class="form-input" min="3" max="10" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="seats_per_row">–ú–µ—Å—Ç –≤ —Ä—è–¥—É</label>
                        <input type="number" id="seats_per_row" class="form-input" min="4" max="12" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –º–µ—Å—Ç</label>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                        <div>
                            <label class="form-label" for="economy_seats">–≠–∫–æ–Ω–æ–º –º–µ—Å—Ç</label>
                            <input type="number" id="economy_seats" class="form-input" min="0">
                        </div>
                        <div>
                            <label class="form-label" for="regular_seats">–û–±—ã—á–Ω—ã—Ö –º–µ—Å—Ç</label>
                            <input type="number" id="regular_seats" class="form-input" min="0">
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                    <button type="button" class="btn btn-secondary" onclick="closeHallModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary" id="hallSubmitBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Employee Modal -->
    <div class="modal" id="employeeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="employeeModalTitle">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h3>
                <button class="modal-close" onclick="closeEmployeeModal()">&times;</button>
            </div>
            
            <form id="employeeForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="employee_name">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                        <input type="text" id="employee_name" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee_login">–õ–æ–≥–∏–Ω</label>
                        <input type="text" id="employee_login" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee_position">–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
                        <select id="employee_position" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–ª–∂–Ω–æ—Å—Ç—å</option>
                            <option value="manager">–ú–µ–Ω–µ–¥–∂–µ—Ä</option>
                            <option value="cashier">–ö–∞—Å—Å–∏—Ä</option>
                            <option value="technician">–¢–µ—Ö–Ω–∏–∫</option>
                            <option value="security">–û—Ö—Ä–∞–Ω–Ω–∏–∫</option>
                            <option value="cleaner">–£–±–æ—Ä—â–∏—Ü–∞</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee_password">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="employee_password" class="form-input" required>
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                    <button type="button" class="btn btn-secondary" onclick="closeEmployeeModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary" id="employeeSubmitBtn">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        // Navigation
        document.querySelectorAll('.nav-linck').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all links and sections
                document.querySelectorAll('.nav-linck').forEach(l => l.classList.remove('active'));
                document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // Show corresponding section
                const sectionName = this.dataset.section;
                document.querySelector(`.content-section[data-section="${sectionName}"]`).classList.add('active');
            });
        });

        // Movie Modal Functions
        function openMovieModal(movieId = null) {
            const modal = document.getElementById('movieModal');
            const title = document.getElementById('movieModalTitle');
            const submitBtn = document.getElementById('movieSubmitBtn');
            
            if (movieId) {
                title.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å–º';
                submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è';
                // Load movie data here
            } else {
                title.textContent = '–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º';
                submitBtn.textContent = '–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º';
                document.getElementById('movieForm').reset();
            }
            
            modal.classList.add('active');
        }

        function closeMovieModal() {
            document.getElementById('movieModal').classList.remove('active');
        }

        function editMovie(movieId) {
            openMovieModal(movieId);
        }

        function deleteMovie(movieId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∏–ª—å–º?')) {
                alert(`–§–∏–ª—å–º #${movieId} —É–¥–∞–ª–µ–Ω`);
            }
        }

        // Hall Modal Functions
        function openHallModal(hallId = null) {
            const modal = document.getElementById('hallModal');
            const title = document.getElementById('hallModalTitle');
            const submitBtn = document.getElementById('hallSubmitBtn');
            
            if (hallId) {
                title.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ª';
                submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è';
                // Load hall data here
            } else {
                title.textContent = '–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ª';
                submitBtn.textContent = '–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ª';
                document.getElementById('hallForm').reset();
            }
            
            modal.classList.add('active');
        }

        function closeHallModal() {
            document.getElementById('hallModal').classList.remove('active');
        }

        function editHall(hallId) {
            openHallModal(hallId);
        }

        function deleteHall(hallId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∑–∞–ª?')) {
                alert(`–ó–∞–ª #${hallId} —É–¥–∞–ª–µ–Ω`);
            }
        }

        // Employee Modal Functions
        function openEmployeeModal(employeeId = null) {
            const modal = document.getElementById('employeeModal');
            const title = document.getElementById('employeeModalTitle');
            const submitBtn = document.getElementById('employeeSubmitBtn');
            
            if (employeeId) {
                title.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
                submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è';
                // Load employee data here
            } else {
                title.textContent = '–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
                submitBtn.textContent = '–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
                document.getElementById('employeeForm').reset();
            }
            
            modal.classList.add('active');
        }

        function closeEmployeeModal() {
            document.getElementById('employeeModal').classList.remove('active');
        }

        function editEmployee(employeeId) {
            openEmployeeModal(employeeId);
        }

        function deleteEmployee(employeeId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?')) {
                alert(`–°–æ—Ç—Ä—É–¥–Ω–∏–∫ #${employeeId} —É–¥–∞–ª–µ–Ω`);
            }
        }

        // Form submissions
        document.getElementById('movieForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('–§–∏–ª—å–º —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
            closeMovieModal();
        });

        document.getElementById('hallForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('–ó–∞–ª —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!');
            closeHallModal();
        });

        document.getElementById('employeeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
            closeEmployeeModal();
        });

        // Close modals on outside click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Search functionality
        document.querySelectorAll('.search-input').forEach(input => {
            input.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const table = this.closest('.table-container').querySelector('.data-table tbody');
                const rows = table.querySelectorAll('tr');
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    row.style.display = text.includes(searchTerm) ? '' : 'none';
                });
            });
        });

        // Price inputs validation
        document.querySelectorAll('.price-input').forEach(input => {
            input.addEventListener('change', function() {
                if (this.value < 0) this.value = 0;
                if (this.value > 10000) this.value = 10000;
            });
        });
    </script>
{% endblock %}
